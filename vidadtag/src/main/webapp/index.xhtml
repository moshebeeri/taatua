<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>  
	<script src="js/vidadtag.js" />
	<script type="text/javascript">
		function pause() {
			var vid = document.getElementById("myvid");
			vid.pause();
			alert(vid.currentTime);
			vid.play();

		}
		function setVideoTimeStampToTagForm(){
			var vid = document.getElementById("myvid");
			var edit = document.getElementById("j_idt7:videoTimeStamp");
			edit.value = vid.currentTime;
		}
				
	</script>
</h:head>

<h:body>
	<h2>Vidadtag server is running</h2>
	<br />
	<video width="320" height="240" autoplay="autoplay" id="myvid">
		<source src="movie.mp4" type="video/mp4"></source>
		<source src="movie.ogg" type="video/ogg"></source>
		<source src="movie.webm" type="video/webm"></source>
		<!-- Your browser does not support the video tag. -->
	</video>
	<br />
	<button onclick="pause()">click me</button>
	<h:outputText value="insert tag here"></h:outputText>
	
	<f:view>
		<h:form>
			<h:panelGrid columns="2">
				<h:outputLabel value="taxonomy"/><h:inputText id="taxonomy"			value="#{vidoeTagCollector.taxonomy}"/>
				<h:inputHidden id="videoTimeStamp"	value="#{vidoeTagCollector.videoTimeStamp}"/>
			</h:panelGrid>
			<h:commandButton value="Add" onclick="setVideoTimeStampToTagForm()" >
 				<f:ajax event="click" listener="#{vidoeTagCollector.addX}" execute="@form" render=":status"/>
			</h:commandButton>
		</h:form>
		<h:panelGroup id="status" rendered="#{vidoeTagCollector.initial!=true}">
			<h3>Result</h3>
			<h:outputLabel value="Status "></h:outputLabel>
			<h:outputLabel value="#{vidoeTagCollector.status}"></h:outputLabel>
		</h:panelGroup>
	</f:view>
</h:body>
</html>
